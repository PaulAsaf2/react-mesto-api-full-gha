{"ast":null,"code":"import _defineProperty from\"C:/Users/Paul/react-mesto-api-full-gha/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/Paul/react-mesto-api-full-gha/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/Paul/react-mesto-api-full-gha/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useCallback}from\"react\";export function useFormAndValidation(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),values=_useState2[0],setValues=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),errors=_useState4[0],setErrors=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),isValid=_useState6[0],setIsValid=_useState6[1];var handleChange=function handleChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setValues(_objectSpread(_objectSpread({},values),{},_defineProperty({},name,value)));setErrors(_objectSpread(_objectSpread({},errors),{},_defineProperty({},name,e.target.validationMessage)));setIsValid(e.target.closest(\"form\").checkValidity());};var resetForm=useCallback(function(){var newValues=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var newErrors=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var newIsValid=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;setValues(newValues);setErrors(newErrors);setIsValid(newIsValid);},[setValues,setErrors,setIsValid]);return{values:values,handleChange:handleChange,errors:errors,isValid:isValid,resetForm:resetForm,setValues:setValues,setIsValid:setIsValid};}export default useFormAndValidation;","map":{"version":3,"names":["useState","useCallback","useFormAndValidation","_useState","_useState2","_slicedToArray","values","setValues","_useState3","_useState4","errors","setErrors","_useState5","_useState6","isValid","setIsValid","handleChange","e","_e$target","target","name","value","_objectSpread","_defineProperty","validationMessage","closest","checkValidity","resetForm","newValues","arguments","length","undefined","newErrors","newIsValid"],"sources":["C:/Users/Paul/react-mesto-api-full-gha/frontend/src/components/hooks/useFormAndValidation.js"],"sourcesContent":["import { useState, useCallback } from \"react\";\r\n\r\nexport function useFormAndValidation() {\r\n  const [values, setValues] = useState({});\r\n  const [errors, setErrors] = useState({});\r\n  const [isValid, setIsValid] = useState(true);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n\r\n    setValues({ ...values, [name]: value });\r\n    setErrors({ ...errors, [name]: e.target.validationMessage });\r\n    setIsValid(e.target.closest(\"form\").checkValidity());\r\n  };\r\n\r\n  const resetForm = useCallback(\r\n    (newValues = {}, newErrors = {}, newIsValid = true) => {\r\n      setValues(newValues);\r\n      setErrors(newErrors);\r\n      setIsValid(newIsValid);\r\n    },\r\n    [setValues, setErrors, setIsValid]\r\n  );\r\n\r\n  return {\r\n    values,\r\n    handleChange,\r\n    errors,\r\n    isValid,\r\n    resetForm,\r\n    setValues,\r\n    setIsValid,\r\n  };\r\n}\r\n\r\nexport default useFormAndValidation;\r\n"],"mappings":"gZAAA,OAASA,QAAQ,CAAEC,WAAW,KAAQ,OAAO,CAE7C,MAAO,SAAS,CAAAC,oBAAoBA,CAAA,CAAG,CACrC,IAAAC,SAAA,CAA4BH,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAAI,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAjCG,MAAM,CAAAF,UAAA,IAAEG,SAAS,CAAAH,UAAA,IACxB,IAAAI,UAAA,CAA4BR,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAAS,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAjCE,MAAM,CAAAD,UAAA,IAAEE,SAAS,CAAAF,UAAA,IACxB,IAAAG,UAAA,CAA8BZ,QAAQ,CAAC,IAAI,CAAC,CAAAa,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAArCE,OAAO,CAAAD,UAAA,IAAEE,UAAU,CAAAF,UAAA,IAE1B,GAAM,CAAAG,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAIC,CAAC,CAAK,CAC1B,IAAAC,SAAA,CAAwBD,CAAC,CAACE,MAAM,CAAxBC,IAAI,CAAAF,SAAA,CAAJE,IAAI,CAAEC,KAAK,CAAAH,SAAA,CAALG,KAAK,CAEnBd,SAAS,CAAAe,aAAA,CAAAA,aAAA,IAAMhB,MAAM,KAAAiB,eAAA,IAAGH,IAAI,CAAGC,KAAK,GAAG,CACvCV,SAAS,CAAAW,aAAA,CAAAA,aAAA,IAAMZ,MAAM,KAAAa,eAAA,IAAGH,IAAI,CAAGH,CAAC,CAACE,MAAM,CAACK,iBAAiB,GAAG,CAC5DT,UAAU,CAACE,CAAC,CAACE,MAAM,CAACM,OAAO,CAAC,MAAM,CAAC,CAACC,aAAa,EAAE,CAAC,CACtD,CAAC,CAED,GAAM,CAAAC,SAAS,CAAG1B,WAAW,CAC3B,UAAuD,IAAtD,CAAA2B,SAAS,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,CAAC,CAAC,IAAE,CAAAG,SAAS,CAAAH,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,CAAC,CAAC,IAAE,CAAAI,UAAU,CAAAJ,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,IAAI,CAChDtB,SAAS,CAACqB,SAAS,CAAC,CACpBjB,SAAS,CAACqB,SAAS,CAAC,CACpBjB,UAAU,CAACkB,UAAU,CAAC,CACxB,CAAC,CACD,CAAC1B,SAAS,CAAEI,SAAS,CAAEI,UAAU,CAAC,CACnC,CAED,MAAO,CACLT,MAAM,CAANA,MAAM,CACNU,YAAY,CAAZA,YAAY,CACZN,MAAM,CAANA,MAAM,CACNI,OAAO,CAAPA,OAAO,CACPa,SAAS,CAATA,SAAS,CACTpB,SAAS,CAATA,SAAS,CACTQ,UAAU,CAAVA,UACF,CAAC,CACH,CAEA,cAAe,CAAAb,oBAAoB"},"metadata":{},"sourceType":"module","externalDependencies":[]}