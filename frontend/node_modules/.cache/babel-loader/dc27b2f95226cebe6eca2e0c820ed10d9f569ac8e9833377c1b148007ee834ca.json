{"ast":null,"code":"import _classCallCheck from\"C:/Users/Paul/react-mesto-api-full-gha/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/Paul/react-mesto-api-full-gha/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";var Api=/*#__PURE__*/function(){function Api(_ref){var baseUrl=_ref.baseUrl,headers=_ref.headers;_classCallCheck(this,Api);this._baseUrl=baseUrl;this._headers=headers;this._request=this._request.bind(this);}_createClass(Api,[{key:\"_request\",value:function _request(url,options){return fetch(url,options).then(this._checkResponse);}},{key:\"_checkResponse\",value:function _checkResponse(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));}// профиль ----- профиль ----- профиль ----- профиль ----- профиль\n// получает данные профиля\n},{key:\"getProfileData\",value:function getProfileData(){return this._request(\"\".concat(this._baseUrl,\"/users/me\"),{headers:this._headers});}// отправляет данные профиля\n},{key:\"setProfileData\",value:function setProfileData(data){return this._request(\"\".concat(this._baseUrl,\"/users/me\"),{method:\"PATCH\",headers:this._headers,body:JSON.stringify(data)});}// аватар ----- аватар ----- аватар ----- аватар ----- аватар ----- аватар\n// отправляет данные аватара\n},{key:\"setAvatar\",value:function setAvatar(link){return this._request(\"\".concat(this._baseUrl,\"/users/me/avatar\"),{method:\"PATCH\",headers:this._headers,body:JSON.stringify(link)});}// карточки ----- карточки ----- карточки ----- карточки ----- карточки\n// получает данные карточек\n},{key:\"getInitialCards\",value:function getInitialCards(){return this._request(\"\".concat(this._baseUrl,\"/cards\"),{headers:this._headers});}// отправляет данные для создания карточки\n},{key:\"createCard\",value:function createCard(data){return this._request(\"\".concat(this._baseUrl,\"/cards\"),{method:\"POST\",headers:this._headers,body:JSON.stringify(data)});}// отправляет данные на удаление карточки\n},{key:\"deleteCard\",value:function deleteCard(id){return this._request(\"\".concat(this._baseUrl,\"/cards/\").concat(id),{method:\"DELETE\",headers:this._headers});}// лайк ----- лайк ----- лайк ----- лайк ----- лайк ----- лайк ----- лайк\n},{key:\"changeLikeCardStatus\",value:function changeLikeCardStatus(cardId,isLiked){if(isLiked){return this._request(\"\".concat(this._baseUrl,\"/cards/\").concat(cardId,\"/likes\"),{method:\"PUT\",headers:this._headers});}else{return this._request(\"\".concat(this._baseUrl,\"/cards/\").concat(cardId,\"/likes\"),{method:\"DELETE\",headers:this._headers});}}}]);return Api;}();export var api=new Api({baseUrl:\"https://mesto.nomoreparties.co/v1/cohort-60\",headers:{authorization:\"b9ad9483-6c42-4e9a-8a8f-d7555df6de20\",\"Content-Type\":\"application/json\"}});","map":{"version":3,"names":["Api","_ref","baseUrl","headers","_classCallCheck","_baseUrl","_headers","_request","bind","_createClass","key","value","url","options","fetch","then","_checkResponse","res","ok","json","Promise","reject","concat","status","getProfileData","setProfileData","data","method","body","JSON","stringify","setAvatar","link","getInitialCards","createCard","deleteCard","id","changeLikeCardStatus","cardId","isLiked","api","authorization"],"sources":["C:/Users/Paul/react-mesto-api-full-gha/frontend/src/utils/Api.js"],"sourcesContent":["class Api {\r\n  constructor({ baseUrl, headers }) {\r\n    this._baseUrl = baseUrl;\r\n    this._headers = headers;\r\n    this._request = this._request.bind(this);\r\n  }\r\n\r\n  _request(url, options) {\r\n    return fetch(url, options).then(this._checkResponse);\r\n  }\r\n\r\n  _checkResponse(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n\r\n    return Promise.reject(`Ошибка: ${res.status}`);\r\n  }\r\n\r\n  // профиль ----- профиль ----- профиль ----- профиль ----- профиль\r\n\r\n  // получает данные профиля\r\n  getProfileData() {\r\n    return this._request(`${this._baseUrl}/users/me`, {\r\n      headers: this._headers,\r\n    });\r\n  }\r\n\r\n  // отправляет данные профиля\r\n  setProfileData(data) {\r\n    return this._request(`${this._baseUrl}/users/me`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify(data),\r\n    });\r\n  }\r\n\r\n  // аватар ----- аватар ----- аватар ----- аватар ----- аватар ----- аватар\r\n\r\n  // отправляет данные аватара\r\n  setAvatar(link) {\r\n    return this._request(`${this._baseUrl}/users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify(link),\r\n    });\r\n  }\r\n\r\n  // карточки ----- карточки ----- карточки ----- карточки ----- карточки\r\n\r\n  // получает данные карточек\r\n  getInitialCards() {\r\n    return this._request(`${this._baseUrl}/cards`, {\r\n      headers: this._headers,\r\n    });\r\n  }\r\n\r\n  // отправляет данные для создания карточки\r\n  createCard(data) {\r\n    return this._request(`${this._baseUrl}/cards`, {\r\n      method: \"POST\",\r\n      headers: this._headers,\r\n      body: JSON.stringify(data),\r\n    });\r\n  }\r\n\r\n  // отправляет данные на удаление карточки\r\n  deleteCard(id) {\r\n    return this._request(`${this._baseUrl}/cards/${id}`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers,\r\n    });\r\n  }\r\n\r\n  // лайк ----- лайк ----- лайк ----- лайк ----- лайк ----- лайк ----- лайк\r\n\r\n  changeLikeCardStatus(cardId, isLiked) {\r\n    if (isLiked) {\r\n      return this._request(`${this._baseUrl}/cards/${cardId}/likes`, {\r\n        method: \"PUT\",\r\n        headers: this._headers,\r\n      });\r\n    } else {\r\n      return this._request(`${this._baseUrl}/cards/${cardId}/likes`, {\r\n        method: \"DELETE\",\r\n        headers: this._headers,\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\nexport const api = new Api({\r\n  baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-60\",\r\n  headers: {\r\n    authorization: \"b9ad9483-6c42-4e9a-8a8f-d7555df6de20\",\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}